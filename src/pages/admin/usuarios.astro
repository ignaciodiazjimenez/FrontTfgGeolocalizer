---
import BaseLayout    from "../../layouts/BaseLayout.astro";
import RutaProtegida from "../../components/RutaProtegida.jsx";
import UserManager   from "../../components/UserManager.jsx";

const showSidebar  = true;
const showHeader   = true;
const showGreeting = false;
const showFooter   = true;

// Sólo “admin” y “root” pueden acceder
const allowedRole = ["admin", "root"];
const redirectTo  = "/login";
---

<BaseLayout
  showSidebar={showSidebar}
  showHeader={showHeader}
  showGreeting={showGreeting}
  showFooter={showFooter}
>
  <RutaProtegida client:load allowedRole={allowedRole} redirectTo={redirectTo}>
    <UserManager client:load />
  </RutaProtegida>
</BaseLayout>
